(()=>{"use strict";console.log("Top of script.js reached!"),console.log("Script loaded!");const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),document.addEventListener("DOMContentLoaded",()=>{document.querySelector(".page-container");const e=document.querySelector(".horizontal-container"),t=document.querySelector(".panels-container"),s=document.querySelectorAll(".panel"),n=document.querySelector(".nav-progress-fill"),a=document.querySelectorAll(".nav-text")[1],o=document.querySelectorAll(".parallax"),i=document.querySelector(".left-menu"),r=document.querySelector(".menu-btn"),l=document.querySelectorAll(".section-nav-item"),c=document.querySelector(".video-background"),d=document.querySelector(".copy-email"),u=document.querySelector(".copy-tooltip"),p=document.getElementById("cookie-banner"),m=document.getElementById("accept-cookies"),h=document.getElementById("decline-cookies"),y=document.getElementById("background-music"),g=document.getElementById("music-toggle"),v=document.getElementById("episode-player"),f=document.querySelectorAll(".episode-button"),b=document.getElementById("episode-modal"),L=document.getElementById("modal-episode-player"),w=document.getElementById("modal-episode-title"),E=document.getElementById("modal-episode-description");console.log("modalEpisodeDescription on load:",E);const x=document.querySelector(".close-button"),S=s.length;let k=0,q=0,T=0,M=0,A=window.innerWidth,B=(S-1)*A,C=!1,I=0,X=-1,D=!1,H=!1,F=0,$=0,j=0,z=0,N=0;const W=(e,t,s)=>e+(t-e)*s,O=(e,t,s)=>Math.min(Math.max(e,t),s);m&&m.addEventListener("click",()=>{p.style.display="none",y&&y.play().catch(e=>{console.error("Audio playback failed:",e)})}),h&&h.addEventListener("click",()=>{p.style.display="none"}),g&&y&&(g.addEventListener("click",()=>{y.paused?y.play().then(()=>{g.classList.add("playing")}).catch(e=>{console.error("Audio playback failed:",e)}):(y.pause(),g.classList.remove("playing"))}),y.paused||g.classList.add("playing"));let P=null;f.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.episodeSrc,s=e.textContent.split("\n")[0].trim();E.innerHTML="",t&&(console.log("Episode button clicked. Episode source:",t),v.paused||(v.pause(),console.log("Hidden episode player paused.")),w.textContent=s,L.src=t,t.includes("ep2.mp3")?(w.textContent="Rap Music, Professional Identity, and Self-Censorship",E.innerHTML='\n            <p>This Episode examine the complex appeal of gangsta rap music, particularly among successful professionals and youth. One source, a master\'s thesis, explores the identity conflict experienced by high-achieving adults who continue to enjoy explicit rap, often leading to self-censorship in professional settings to avoid negative stereotypes. This thesis highlights how individuals reconcile their personal musical tastes with their professional images, and it discusses the historical context of rap\'s emergence as a voice for the disenfranchised. The second source, an academic article, analyzes gangsta rap as a "Crime as Pop" phenomenon, emphasizing its attractiveness through narratives like "from rags to riches," the staging of self-assertion, stable identity, and resistance against societal norms. It suggests that while mainstream media often demonizes crime, gangsta rap heroizes criminal figures, offering a playful subversion of rules that resonates with audiences, regardless of their background.</p>\n          '):t.includes("ep1.mp3")?(w.textContent="The Art of the Comeback: From Failure to Fortune",E.innerHTML="\n            <p>In this inspiring episode, we sit down with serial entrepreneurs who share their raw, unfiltered stories of hitting rock bottom and clawing their way back to success. Discover the pivotal moments, the mindset shifts, and the unconventional strategies that turned their failures into fortunes. This isn't just about business; it's about resilience, reinvention, and the indomitable spirit of the human hustle. Learn how to embrace setbacks as stepping stones and transform adversity into your greatest advantage.</p>\n          "):t.includes("ep3.mp3")?(w.textContent="Beyond the Hype: Building Sustainable Brands in a Saturated Market",E.innerHTML="\n            <p>The market is flooded, trends are fleeting, and consumer attention is a precious commodity. How do you build a brand that not only survives but thrives amidst the noise? This episode dives deep into the strategies for creating sustainable, impactful brands in today's saturated landscape. We explore authentic storytelling, community building, ethical practices, and innovative approaches to stand out and foster lasting loyalty. Tune in to learn how to cut through the hype and build a legacy, not just a business.</p>\n          "):t.includes("ep1.mp3")?(w.textContent="The Art of the Comeback: From Failure to Fortune",E.innerHTML="\n            <p>In this inspiring episode, we sit down with serial entrepreneurs who share their raw, unfiltered stories of hitting rock bottom and clawing their way back to success. Discover the pivotal moments, the mindset shifts, and the unconventional strategies that turned their failures into fortunes. This isn't just about business; it's about resilience, reinvention, and the indomitable spirit of the human hustle. Learn how to embrace setbacks as stepping stones and transform adversity into your greatest advantage.</p>\n          "):t.includes("ep3.mp3")&&(w.textContent="Beyond the Hype: Building Sustainable Brands in a Saturated Market",E.innerHTML="\n            <p>The market is flooded, trends are fleeting, and consumer attention is a precious commodity. How do you build a brand that not only survives but thrives amidst the noise? This episode dives deep into the strategies for creating sustainable, impactful brands in today's saturated landscape. We explore authentic storytelling, community building, ethical practices, and innovative approaches to stand out and foster lasting loyalty. Tune in to learn how to cut through the hype and build a legacy, not just a business.</p>\n          "),b.style.display="flex",console.log("Modal display set to flex. Current display:",b.style.display),L.play().catch(e=>{console.error("Modal episode playback failed:",e)}),P&&P.classList.remove("playing"),e.classList.add("playing"),P=e)})}),x.addEventListener("click",()=>{console.log("Close button clicked."),b.style.display="none",console.log("Modal display set to none. Current display:",b.style.display),L.pause(),L.src="",P&&(P.classList.remove("playing"),P=null)}),window.addEventListener("click",e=>{e.target===b&&(b.style.display="none",L.pause(),L.src="",P&&(P.classList.remove("playing"),P=null))}),L.addEventListener("ended",()=>{P&&(P.classList.remove("playing"),P=null)}),L.addEventListener("pause",()=>{P&&P.classList.remove("playing")}),L.addEventListener("play",()=>{f.forEach(e=>{e!==P&&e.classList.remove("playing")}),P&&P.classList.add("playing")}),d&&d.addEventListener("click",()=>{const e=document.querySelector(".email").textContent;navigator.clipboard.writeText(e).then(()=>{u.classList.add("active"),setTimeout(()=>{u.classList.remove("active")},2e3)})});const R=e=>{l.forEach((t,s)=>{e?setTimeout(()=>{t.classList.add("animate-in")},50+30*s):t.classList.remove("animate-in")})};r.addEventListener("click",()=>{D=!D,i.classList.toggle("expanded"),document.body.classList.toggle("menu-expanded"),console.log("Menu expanded:",D),D?setTimeout(()=>{R(!0)},150):R(!1),setTimeout(()=>{Y(!1)},400)});const G=()=>{o.forEach(e=>{if(!e)return;const t=Number.parseFloat(e.dataset.speed)||.2,s=-q*t*.2;e.style.transform=`translateX(${s}px)`})},Y=(e=!0)=>{A=window.innerWidth,B=(S-1)*A,k=I*A,q=k,s.forEach(e=>{e.style.width=`${A}px`}),e&&(t.classList.add("transitioning"),setTimeout(()=>{t.classList.remove("transitioning")},400)),t.style.transform=`translateX(-${q}px)`,G()};l.forEach(e=>{e.addEventListener("click",()=>{const t=Number.parseInt(e.getAttribute("data-index"));k=t*A,l.forEach(e=>{e.classList.remove("active")}),e.classList.add("active"),Q(),window.innerWidth<768&&D&&(D=!1,i.classList.remove("expanded"),document.body.classList.remove("menu-expanded"),R(!1),setTimeout(()=>{Y(!1)},400))})}),document.querySelectorAll(".split-text").forEach(e=>{const t=e.textContent.split(" ");e.innerHTML=t.map(e=>`<span class="word">${e}</span>`).join(" "),e.querySelectorAll(".word").forEach((e,t)=>{e.style.transitionDelay=.02*t+"s"})});const _=()=>{const e=Math.round(q/A)+1,t=e.toString().padStart(2,"0"),s=S.toString().padStart(2,"0");a.textContent=`${t} / ${s}`,l.forEach((t,s)=>{s===e-1?t.classList.add("active"):t.classList.remove("active")})},J=()=>{if(I=Math.round(q/A),I!==X){if(s.forEach(e=>{e.classList.remove("was-active"),e.querySelectorAll(".section-animated").forEach(e=>{e.classList.remove("section-animated")})}),X>=0&&s[X]&&s[X].classList.remove("active"),s[I]){s[I].classList.add("active");const e=s[I];let t=[];0===I?t=e.querySelectorAll("h1.title, p.text"):1===I?t=e.querySelectorAll("h2.title, p.text"):2===I?t=e.querySelectorAll(".space-text"):3===I?t=e.querySelectorAll("h2.title, p.text"):4===I?t=e.querySelectorAll(".beyond-text"):5===I?t=e.querySelectorAll(".quote"):6===I?t=e.querySelectorAll(".mega-text"):7===I?t=e.querySelectorAll(".mega-text, .new-episodes-text, .watch-logo"):8===I&&(t=e.querySelectorAll(".contact-name")),t.forEach(e=>{e.classList.add("section-animated")})}for(let e=0;e<s.length;e++)e<I?s[e].classList.add("visited"):s[e].classList.remove("visited");X=I}},K=()=>{q=W(q,k,.065),t.style.transform=`translateX(-${q}px)`,M=q/B,T=W(T,M,.0975),n.style.transform=`scaleX(${T})`,_(),J(),G(),Math.abs(k-q)>.1||C?requestAnimationFrame(K):C=!1},Q=()=>{C||(C=!0,requestAnimationFrame(K))};e.addEventListener("wheel",e=>{e.preventDefault(),k=O(k+1*e.deltaY,0,B),Q()},{passive:!1}),e.addEventListener("mousedown",e=>{e.target.closest(".left-menu")||e.target.closest(".copy-email")||(H=!0,F=e.clientX,$=q,z=e.clientX,N=Date.now(),document.body.style.cursor="grabbing",e.preventDefault())}),window.addEventListener("mousemove",e=>{if(!H)return;const t=e.clientX-F;k=O($-t,0,B);const s=Date.now(),n=s-N;if(n>0){const t=z-e.clientX;j=t/n*15}z=e.clientX,N=s,e.preventDefault(),Q()}),window.addEventListener("mouseup",()=>{if(!H)return;H=!1,document.body.style.cursor="grab",Math.abs(j)>.5&&(k=O(k+8*j,0,B));const e=Math.round(k/A);k=e*A,Q()}),e.addEventListener("touchstart",e=>{e.target.closest(".left-menu")||e.target.closest(".copy-email")||(H=!0,F=e.touches[0].clientX,$=q,z=e.touches[0].clientX,N=Date.now())},{passive:!0}),e.addEventListener("touchmove",e=>{if(!H)return;const t=e.touches[0].clientX-F;k=O($-t,0,B);const s=Date.now(),n=s-N;if(n>0){const t=z-e.touches[0].clientX;j=t/n*12}z=e.touches[0].clientX,N=s,e.preventDefault(),Q()},{passive:!1}),e.addEventListener("touchend",()=>{if(!H)return;H=!1,Math.abs(j)>.5&&(k=O(k+6*j,0,B));const e=Math.round(k/A);k=e*A,Q()},{passive:!0}),window.addEventListener("resize",()=>{Y()}),o.forEach(e=>{"IMG"===e.tagName&&(e.complete?e.classList.add("loaded"):e.addEventListener("load",()=>{e.classList.add("loaded")}))}),c&&(c.playbackRate=.6),Y(),J(),_(),Q(),setTimeout(()=>{s[0].classList.add("active"),l[0].classList.add("active")},100),setTimeout(()=>{G()},200)})})();