(()=>{"use strict";console.log("Top of script.js reached!"),console.log("Script loaded!");const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),document.addEventListener("DOMContentLoaded",()=>{document.querySelector(".page-container");const e=document.querySelector(".horizontal-container"),t=document.querySelector(".panels-container"),o=document.querySelectorAll(".panel"),n=document.querySelector(".nav-progress-fill"),a=document.querySelectorAll(".nav-text")[1],s=document.querySelectorAll(".parallax"),c=document.querySelector(".left-menu"),r=document.querySelector(".menu-btn"),l=document.querySelectorAll(".section-nav-item"),i=document.querySelector(".video-background"),d=document.querySelector(".copy-email"),u=document.querySelector(".copy-tooltip"),m=document.getElementById("cookie-banner"),p=document.getElementById("accept-cookies"),y=document.getElementById("decline-cookies"),v=document.getElementById("background-music"),h=document.getElementById("music-toggle"),L=o.length;let f=0,g=0,E=0,S=0,q=window.innerWidth,w=(L-1)*q,x=!1,b=0,A=-1,k=!1,X=!1,M=0,T=0,D=0,$=0,B=0;const I=(e,t,o)=>e+(t-e)*o,N=(e,t,o)=>Math.min(Math.max(e,t),o);p&&p.addEventListener("click",()=>{m.style.display="none",v&&v.play().catch(e=>{console.error("Audio playback failed:",e)})}),y&&y.addEventListener("click",()=>{m.style.display="none"}),h&&v&&h.addEventListener("click",()=>{v.paused?v.play().catch(e=>{console.error("Audio playback failed:",e)}):v.pause()}),d&&d.addEventListener("click",()=>{const e=document.querySelector(".email").textContent;navigator.clipboard.writeText(e).then(()=>{u.classList.add("active"),setTimeout(()=>{u.classList.remove("active")},2e3)})});const C=e=>{l.forEach((t,o)=>{e?setTimeout(()=>{t.classList.add("animate-in")},50+30*o):t.classList.remove("animate-in")})};r.addEventListener("click",()=>{k=!k,c.classList.toggle("expanded"),document.body.classList.toggle("menu-expanded"),console.log("Menu expanded:",k),k?setTimeout(()=>{C(!0)},150):C(!1),setTimeout(()=>{W(!1)},400)});const F=()=>{s.forEach(e=>{if(!e)return;const t=Number.parseFloat(e.dataset.speed)||.2,o=-g*t*.2;e.style.transform=`translateX(${o}px)`})},W=(e=!0)=>{q=window.innerWidth,w=(L-1)*q,f=b*q,g=f,o.forEach(e=>{e.style.width=`${q}px`}),e&&(t.classList.add("transitioning"),setTimeout(()=>{t.classList.remove("transitioning")},400)),t.style.transform=`translateX(-${g}px)`,F()};l.forEach(e=>{e.addEventListener("click",()=>{const t=Number.parseInt(e.getAttribute("data-index"));f=t*q,l.forEach(e=>{e.classList.remove("active")}),e.classList.add("active"),H(),window.innerWidth<768&&k&&(k=!1,c.classList.remove("expanded"),document.body.classList.remove("menu-expanded"),C(!1),setTimeout(()=>{W(!1)},400))})}),document.querySelectorAll(".split-text").forEach(e=>{const t=e.textContent.split(" ");e.innerHTML=t.map(e=>`<span class="word">${e}</span>`).join(" "),e.querySelectorAll(".word").forEach((e,t)=>{e.style.transitionDelay=.02*t+"s"})});const j=()=>{const e=Math.round(g/q)+1,t=e.toString().padStart(2,"0"),o=L.toString().padStart(2,"0");a.textContent=`${t} / ${o}`,l.forEach((t,o)=>{o===e-1?t.classList.add("active"):t.classList.remove("active")})},z=()=>{if(b=Math.round(g/q),b!==A){if(o.forEach(e=>{e.classList.remove("was-active"),e.querySelectorAll(".section-animated").forEach(e=>{e.classList.remove("section-animated")})}),A>=0&&o[A]&&o[A].classList.remove("active"),o[b]){o[b].classList.add("active");const e=o[b];let t=[];0===b?t=e.querySelectorAll("h1.title, p.text"):1===b?t=e.querySelectorAll("h2.title, p.text"):2===b?t=e.querySelectorAll(".space-text"):3===b?t=e.querySelectorAll("h2.title, p.text"):4===b?t=e.querySelectorAll(".beyond-text"):5===b?t=e.querySelectorAll(".quote"):6===b?t=e.querySelectorAll(".mega-text"):7===b?t=e.querySelectorAll(".mega-text"):8===b&&(t=e.querySelectorAll(".contact-name")),t.forEach(e=>{e.classList.add("section-animated")})}for(let e=0;e<o.length;e++)e<b?o[e].classList.add("visited"):o[e].classList.remove("visited");A=b}},G=()=>{g=I(g,f,.065),t.style.transform=`translateX(-${g}px)`,S=g/w,E=I(E,S,.0975),n.style.transform=`scaleX(${E})`,j(),z(),F(),Math.abs(f-g)>.1||x?requestAnimationFrame(G):x=!1},H=()=>{x||(x=!0,requestAnimationFrame(G))};e.addEventListener("wheel",e=>{e.preventDefault(),f=N(f+1*e.deltaY,0,w),H()},{passive:!1}),e.addEventListener("mousedown",e=>{e.target.closest(".left-menu")||e.target.closest(".copy-email")||(X=!0,M=e.clientX,T=g,$=e.clientX,B=Date.now(),document.body.style.cursor="grabbing",e.preventDefault())}),window.addEventListener("mousemove",e=>{if(!X)return;const t=e.clientX-M;f=N(T-t,0,w);const o=Date.now(),n=o-B;if(n>0){const t=$-e.clientX;D=t/n*15}$=e.clientX,B=o,e.preventDefault(),H()}),window.addEventListener("mouseup",()=>{if(!X)return;X=!1,document.body.style.cursor="grab",Math.abs(D)>.5&&(f=N(f+8*D,0,w));const e=Math.round(f/q);f=e*q,H()}),e.addEventListener("touchstart",e=>{e.target.closest(".left-menu")||e.target.closest(".copy-email")||(X=!0,M=e.touches[0].clientX,T=g,$=e.touches[0].clientX,B=Date.now())},{passive:!0}),e.addEventListener("touchmove",e=>{if(!X)return;const t=e.touches[0].clientX-M;f=N(T-t,0,w);const o=Date.now(),n=o-B;if(n>0){const t=$-e.touches[0].clientX;D=t/n*12}$=e.touches[0].clientX,B=o,e.preventDefault(),H()},{passive:!1}),e.addEventListener("touchend",()=>{if(!X)return;X=!1,Math.abs(D)>.5&&(f=N(f+6*D,0,w));const e=Math.round(f/q);f=e*q,H()},{passive:!0}),window.addEventListener("resize",()=>{W()}),s.forEach(e=>{"IMG"===e.tagName&&(e.complete?e.classList.add("loaded"):e.addEventListener("load",()=>{e.classList.add("loaded")}))}),i&&(i.playbackRate=.6),W(),z(),j(),H(),setTimeout(()=>{o[0].classList.add("active"),l[0].classList.add("active")},100),setTimeout(()=>{F()},200)})})();